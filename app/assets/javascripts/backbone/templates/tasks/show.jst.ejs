<h3 class="taskName"><%= task.get('name') %></h3>
<% var run = task.get('run'); %>
<% if(run != undefined) { %>
    <% var steps = run.get('steps'); %>
    <table class="table">
        <tr>
            <th>Started</th>
            <th>Finished</th>
            <% if(steps) { %>
                <th>Steps</th>
            <% } %>
            <th>State</th>
            <% if(run.get('state') == 'running') { %>
                <th>Pulse</th>
            <% } %>
        </tr>
        <tr>
            <td><%= new Date(run.get('started_at')).format('m/d HH:MM') %></td>
            <td><%= new Date(run.get('finished_at')).format('m/d HH:MM') %></td>
            <% if(steps) { %>
                <td><%= run.get('steps_done') %>/<%= steps %></td>
            <% } %>
            <td><%= run.get('state') %></td>
            <% if(run.get('state') == 'running') { %>
                <td class="pulse"><%= run.get('pulse') %></td>
            <% } %>
        </tr>
    </table>
    <% if(run.get('message')) { %>
        <p><%= run.get('message') %></p>
    <% } %>
<% } %>
